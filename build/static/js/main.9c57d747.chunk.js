(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,t,n){e.exports=n(407)},369:function(e,t){},405:function(e,t,n){},406:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(41),c=n.n(o),s=n(8),i=n(10),u=n(36),l=n(46),f=n.n(l);n(295),n(298);f.a.initializeApp({apiKey:"AIzaSyChwU0BxmCxibT7XfsE2XWthgH8MWTXsiM",authDomain:"budget-io-489f5.firebaseapp.com",databaseURL:"https://budget-io-489f5.firebaseio.com",projectId:"budget-io-489f5",storageBucket:"budget-io-489f5.appspot.com",messagingSenderId:"324065239171"});var p=f.a.database(),m=new f.a.auth.GoogleAuthProvider,d=new f.a.auth.FacebookAuthProvider,h=new f.a.auth.GithubAuthProvider,g=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;return function(t,n){var a=n().auth.uid;p.ref("users/".concat(a,"/expenses/").concat(e)).remove().then(function(){t(function(){return{type:"REMOVE_EXPENSE",id:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id}}({id:e}))})}},v=n(62),b=n(212),E=n(213),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return[].concat(Object(E.a)(e),[t.expense]);case"REMOVE_EXPENSE":return e.filter(function(e){return e.id!==t.id});case"EDIT_EXPENSE":return e.map(function(e){return e.id===t.id?Object(u.a)({},e,t.updates):e});case"SET_EXPENSES":return t.expenses;default:return e}},O=n(4),S=n.n(O),x={text:"",sortBy:"date",startDate:S()().startOf("month"),endDate:S()().endOf("month")},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_FILTER":return Object(u.a)({},e,{text:t.text});case"SORT_BY_AMOUNT":return Object(u.a)({},e,{sortBy:"amount"});case"SORT_BY_DATE":return Object(u.a)({},e,{sortBy:"date"});case"SET_START_DATE":return Object(u.a)({},e,{startDate:t.startDate});case"SET_END_DATE":return Object(u.a)({},e,{endDate:t.endDate});default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{uid:t.uid};case"LOGOUT":return{};default:return e}},_=n(20),D=n(21),C=n(23),R=n(22),w=n(11),A=n(19),P=n(95),T=n.n(P),k=Object(s.b)()(function(e){var t=e.id,n=e.dispatch,a=e.description,o=e.amount,c=e.createdAt;return r.a.createElement("div",{className:"item_container"},r.a.createElement("h3",{className:"item_description"},a),r.a.createElement("p",{className:"item_amount"},T()(o/100).format("$0,0.00")," - ",S()(c).format("MMM Do, YYYY")),r.a.createElement(A.a,{to:"/edit/".concat(t)},r.a.createElement("button",{className:"item_edit_btn"},"Edit")),r.a.createElement("button",{className:"item_remove_btn",onClick:function(){n(g({id:t}))}},"Remove"))}),I=function(e,t){var n=t.text,a=t.sortBy,r=t.startDate,o=t.endDate;return e.filter(function(e){var t=S()(e.createdAt),a=!r||r.isSameOrBefore(t,"day"),c=!o||o.isSameOrAfter(t,"day"),s=e.description.toLowerCase().includes(n.toLowerCase());return a&&c&&s}).sort(function(e,t){return"date"===a?e.createdAt<t.createdAt?1:-1:"amount"===a?e.amount<t.amount?1:-1:void 0})},L=Object(s.b)(function(e){return{expenses:I(e.expenses,e.filters)}})(function(e){return r.a.createElement("div",{className:"expense_container"},r.a.createElement("h1",{className:"expense_txt"},"Expense List"),0===e.expenses.length?r.a.createElement("div",{className:"expense_txt"},r.a.createElement("span",null,"No Expenses")):e.expenses.map(function(e){return r.a.createElement(k,Object.assign({key:e.id},e))}))}),F=n(96),B=function(e){return{type:"SET_START_DATE",startDate:e}},X=function(e){return{type:"SET_END_DATE",endDate:e}};function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var M=function(e){Object(C.a)(n,e);var t=G(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onDatesChange=function(e){var t=e.startDate,n=e.endDate;a.props.dispatch(B(t)),a.props.dispatch(X(n))},a.onFocusChange=function(e){a.setState(function(){return{calendarFocused:e}})},a.state={calendarFocused:null},a}return Object(D.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"filters_container"},r.a.createElement("div",{className:"search_box"},r.a.createElement("input",{className:"search_txt",type:"text",value:this.props.filters.text,placeholder:"Type to search",onChange:function(t){e.props.dispatch(function(){return{type:"SET_TEXT_FILTER",text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}(t.target.value))}}),r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("select",{className:"search_filters",value:this.props.filters.sortBy,onChange:function(t){"date"===t.target.value?e.props.dispatch((t.target.value,{type:"SORT_BY_DATE"})):"amount"===t.target.value&&e.props.dispatch((t.target.value,{type:"SORT_BY_AMOUNT"}))}},r.a.createElement("option",{value:"date"},"Date"),r.a.createElement("option",{value:"amount"},"Amount")),r.a.createElement(F.DateRangePicker,{startDate:this.props.filters.startDate,startDateId:"start",endDate:this.props.filters.endDate,endDateId:"end",onDatesChange:this.onDatesChange,focusedInput:this.state.calendarFocused,onFocusChange:this.onFocusChange,showClearDates:!0,numberOfMonths:1,isOutsideRange:function(){return!1}}))}}]),n}(r.a.Component),U=Object(s.b)(function(e){return{filters:e.filters}})(M),W=n(94);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var J=function(e){Object(C.a)(n,e);var t=Y(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){e.preventDefault(),a.state.budget?a.setState({error:"",budget:parseFloat(a.state.budget,10)}):a.setState(function(){return{error:"Please provide a monthly budget."}})},a.onAmountChange=function(e){e.persist(),e.target.value&&!e.target.value.match(/^\d{1,}(\.\d{0,2})?$/)||a.setState(function(){return{budget:100*e.target.value}})},a.onSubmit=a.onSubmit.bind(Object(W.a)(a)),a.state={budget:0,error:""},a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("budget"),t=JSON.parse(e);t&&this.setState(function(){return{budget:t}})}catch(n){}}},{key:"componentDidUpdate",value:function(){if(this.state.budget){var e=JSON.stringify(this.state.budget);localStorage.setItem("budget",e)}}},{key:"render",value:function(){var e=1===this.props.expensesCount?"expense":"expenses",t=T()(this.props.expensesTotal/100).format("$0,0.00");return r.a.createElement("div",{className:"budget_container"},this.state.error&&r.a.createElement("p",{className:"error"},this.state.error),r.a.createElement("h1",null,"Viewing ",this.props.expensesCount," ",e," totalling ",t))}}]),n}(r.a.Component),$=Object(s.b)(function(e){var t,n=I(e.expenses,e.filters);return{expensesCount:n.length,expensesTotal:(t=n,t.map(function(e){return e.amount}).reduce(function(e,t){return e+t},0))}})(J);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var z=function(e){Object(C.a)(n,e);var t=V(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(D.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement(U,null),r.a.createElement(L,null))}}]),n}(a.Component);n(361),n(404);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var q=function(e){Object(C.a)(n,e);var t=H(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).onDescriptionChange=function(e){e.persist(),a.setState(function(){return{description:e.target.value}})},a.onNoteChange=function(e){e.persist(),a.setState(function(){return{note:e.target.value}})},a.onAmountChange=function(e){e.persist(),e.target.value&&!e.target.value.match(/^\d{1,}(\.\d{0,2})?$/)||a.setState(function(){return{amount:e.target.value}})},a.onDateChange=function(e){e&&a.setState(function(){return{createdAt:e}})},a.onFocusedChange=function(e){var t=e.focused;a.setState(function(){return{focused:t}})},a.onSubmit=function(e){e.preventDefault(),a.state.description&&a.state.amount?(a.setState(function(){return{error:""}}),a.props.onSubmit({description:a.state.description,amount:100*parseFloat(a.state.amount,10),createdAt:a.state.createdAt.valueOf(),note:a.state.note})):a.setState(function(){return{error:"Please provide description and amount."}})},a.state={description:e.expense?e.expense.description:"",note:e.expense?e.expense.note:"",amount:e.expense?(e.expense.amount/100).toString():"",createdAt:e.expense?S()(e.expense.createdAt):S()(),focused:!1,error:""},a}return Object(D.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit,className:"forms_container"},this.state.error&&r.a.createElement("p",{className:"error"},this.state.error),r.a.createElement("input",{type:"text",placeholder:"Description",className:"form_input",autoFocus:!0,value:this.state.description,onChange:this.onDescriptionChange}),r.a.createElement("input",{type:"text",placeholder:"Amount",className:"form_input",value:this.state.amount,onChange:this.onAmountChange}),r.a.createElement("textarea",{className:"form_text",placeholder:"Add a note for your expense.(optional)",value:this.state.note,onChange:this.onNoteChange}),r.a.createElement("div",{className:"bottom_container"},r.a.createElement(F.SingleDatePicker,{date:this.state.createdAt,onDateChange:this.onDateChange,focused:this.state.focused,onFocusChange:this.onFocusedChange,numberOfMonths:1,isOutsideRange:function(){return!1}}),r.a.createElement("button",{className:"form_btn"},"Add Expense")))}}]),n}(r.a.Component),K=Object(s.b)()(function(e){return r.a.createElement("div",null,r.a.createElement(q,{onSubmit:function(t){e.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var a=n().auth.uid,r=e.description,o=void 0===r?"":r,c=e.note,s=void 0===c?"":c,i=e.amount,l=void 0===i?0:i,f=e.createdAt,m={description:o,note:s,amount:l,createdAt:void 0===f?0:f};p.ref("users/".concat(a,"/expenses")).push(m).then(function(e){t(function(e){return{type:"ADD_EXPENSE",expense:e}}(Object(u.a)({id:e.key},m)))})}}(t)),e.history.push("/")}}))}),Q=Object(s.b)(function(e,t){return{expense:e.expenses.find(function(e){return e.id===t.match.params.id})}})(function(e){return r.a.createElement("div",null,r.a.createElement(q,{expense:e.expense,onSubmit:function(t){var n,a;e.dispatch((n=e.expense.id,a=t,function(e,t){var r=t().auth.uid;return p.ref("users/".concat(r,"/expenses/").concat(n)).update(a).then(function(){e(function(e,t){return{type:"EDIT_EXPENSE",id:e,updates:t}}(n,a))})})),e.history.push("/")}}),r.a.createElement("button",{className:"header_btn",onClick:function(){e.dispatch(g(e.expense)),e.history.push("/")}},"Remove"))}),Z=function(){return r.a.createElement("div",{className:"notfound_page"},r.a.createElement("h2",{className:"notfound_txt"},"How did you get here?"),r.a.createElement(A.a,{to:"/home",className:"login_btn"},"Go Back"))};function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var te=function(e){Object(C.a)(n,e);var t=ee(n);function n(){var e;return Object(_.a)(this,n),(e=t.call(this)).onEmailChange=function(t){var n=t.target.value;e.setState(function(){return{email:n}})},e.onPasswordChange=function(t){var n=t.target.value;e.setState(function(){return{password:n}})},e.onSubmit=function(t){if(t.preventDefault(),!e.state.password){e.setState(function(){return{error:"Please enter a password."}})}if(e.state.email)e.setState(function(){return{error:""}}),e.props.onSubmit(e.state.email,e.state.password);else{e.setState(function(){return{error:"Please enter a valid email."}})}},e.state={error:"",email:"",password:""},e}return Object(D.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"login_shell"},r.a.createElement("div",{className:"login_container"},r.a.createElement("img",{className:"img-logo",src:"https://i.imgur.com/94GQoWA.png",alt:"logo"}),r.a.createElement("form",{className:"login_form",onSubmit:this.onSubmit},this.state.error&&r.a.createElement("p",{className:"error"},this.state.error),r.a.createElement("input",{className:"login_input",type:"email",placeholder:"Email",value:this.state.email,onChange:this.onEmailChange}),r.a.createElement("input",{className:"login_input",type:"password",placeholder:"Password",value:this.state.pass,onChange:this.onPasswordChange}),r.a.createElement("button",{className:"login_button"},"Login")),r.a.createElement(A.a,{to:"/signup",style:{textDecoration:"none"}},r.a.createElement("button",{className:"login_button"},"Register")),r.a.createElement("i",{className:"fab fa-facebook-square fa-3x",onClick:this.props.startFacebookLogin}),r.a.createElement("i",{className:"fab fa-google fa-3x",onClick:this.props.startGoogleLogin}),r.a.createElement("i",{className:"fab fa-github fa-3x",onClick:this.props.startGithubLogin})))}}]),n}(r.a.Component),ne=Object(s.b)(void 0,function(e){return{startGoogleLogin:function(){return e(function(){return f.a.auth().signInWithRedirect(m)})},startFacebookLogin:function(){return e(function(){return f.a.auth().signInWithRedirect(d)})},startGithubLogin:function(){return e(function(){return f.a.auth().signInWithRedirect(h)})},onSubmit:function(t,n){return e(function(e,t){return function(){return f.a.auth().signInWithEmailAndPassword(e,t)}}(t,n))}}})(te),ae=n(97),re=Object(s.b)(void 0,function(e){return{startLogout:function(){return e(function(){return f.a.auth().signOut()})}}})(function(e){var t=e.startLogout;return r.a.createElement("header",null,r.a.createElement("div",{className:"header_container"},r.a.createElement("div",{className:"content-container"},r.a.createElement(A.a,{to:"/home",className:"header_title"},r.a.createElement("h1",null,"Budget IO")),r.a.createElement("button",{onClick:t},"Logout"))))}),oe=Object(s.b)(function(e){return{isAuth:!!e.auth.uid}})(function(e){var t=e.isAuth,n=e.component,a=Object(ae.a)(e,["isAuth","component"]);return r.a.createElement(i.b,Object.assign({},a,{component:function(e){return t?r.a.createElement("div",null,r.a.createElement(re,null),r.a.createElement(n,e)):r.a.createElement(i.a,{to:"/"})}}))}),ce=Object(s.b)(function(e){return{isAuth:!!e.auth.uid}})(function(e){var t=e.isAuth,n=e.component,a=Object(ae.a)(e,["isAuth","component"]);return r.a.createElement(i.b,Object.assign({},a,{component:function(e){return t?r.a.createElement(i.a,{to:"/home"}):r.a.createElement("div",null,r.a.createElement(n,e))}}))});function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var ie=function(e){Object(C.a)(n,e);var t=se(n);function n(){var e;return Object(_.a)(this,n),(e=t.call(this)).onEmailChange=function(t){var n=t.target.value;e.setState(function(){return{email:n}})},e.onPasswordChange=function(t){var n=t.target.value;e.setState(function(){return{password:n}})},e.onConfirmPasswordChange=function(t){var n=t.target.value;e.setState(function(){return{confirmPassword:n}})},e.onSubmit=function(t){if(t.preventDefault(),e.state.password!==e.state.confirmPassword){e.setState(function(){return{error:"Passwords did not match."}})}if(!e.state.password||e.state.email||e.state.confirmPassword){e.setState(function(){return{error:"Please fill out all credentials."}})}else e.setState(function(){return{error:""}}),e.props.onSubmit(e.state.email,e.state.password),e.props.history.push("/")},e.state={error:"",email:"",password:"",confirmPassword:""},e}return Object(D.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"signup_shell"},r.a.createElement("form",{className:"signup_container",onSubmit:this.onSubmit},r.a.createElement("h1",{className:"signup_title"},"Signup"),this.state.error&&r.a.createElement("p",{className:"error"},this.state.error),r.a.createElement("input",{className:"login_input",type:"email",placeholder:"Email",value:this.state.email,onChange:this.onEmailChange}),r.a.createElement("input",{className:"login_input",type:"password",placeholder:"Password",value:this.state.password,onChange:this.onPasswordChange}),r.a.createElement("input",{className:"login_input",type:"password",placeholder:"Confirm password",value:this.state.confirmPassword,onChange:this.onConfirmPasswordChange}),r.a.createElement("button",{className:"login_button"},"Signup"),r.a.createElement(A.a,{to:"/",style:{textDecoration:"none"}},r.a.createElement("button",{className:"login_button"},"Already a user?"))))}}]),n}(r.a.Component),ue=Object(s.b)(void 0,function(e){return{onSubmit:function(t,n){return e(function(e,t){return function(){return f.a.auth().createUserWithEmailAndPassword(e,t)}}(t,n))}}})(ie);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(w.a)(e);if(t){var r=Object(w.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(R.a)(this,n)}}var fe=function(e){Object(C.a)(n,e);var t=le(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(D.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.d,null,r.a.createElement(ce,{exact:!0,path:"/",component:ne}),r.a.createElement(ce,{exact:!0,path:"/signup",component:ue}),r.a.createElement(oe,{path:"/home",component:z}),r.a.createElement(oe,{path:"/create",component:K}),r.a.createElement(oe,{path:"/edit/:id",component:Q}),r.a.createElement(i.b,{component:Z})))}}]),n}(a.Component),pe=n(24),me=(n(405),n(406),Object(pe.a)()),de=Object(v.d)(Object(v.c)({expenses:y,filters:j,auth:N}),Object(v.a)(b.a)),he=!1,ge=function(){he||(c.a.render(ve,document.getElementById("root")),he=!0)},ve=r.a.createElement(s.a,{store:de},r.a.createElement(i.c,{history:me},r.a.createElement(fe,null)));c.a.render(r.a.createElement("p",{className:"loading"}),document.getElementById("root")),f.a.auth().onAuthStateChanged(function(e){e?(de.dispatch({type:"LOGIN",uid:e.uid}),de.dispatch(function(e,t){var n=t().auth.uid;return p.ref("users/".concat(n,"/expenses")).once("value").then(function(t){var n=[];t.forEach(function(e){n.push(Object(u.a)({id:e.key},e.val()))}),e(function(e){return{type:"SET_EXPENSES",expenses:e}}(n))})}).then(function(){ge(),"/"===me.location.pathname&&me.push("/home"),console.log("Logged In:",e.uid)})):(de.dispatch({type:"LOGOUT"}),ge(),me.push("/"),console.log("Logged Out!"))})}},[[214,1,2]]]);
//# sourceMappingURL=main.9c57d747.chunk.js.map